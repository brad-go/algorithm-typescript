# 우선 순위 큐 (Priority Queue)

일반적인 큐는 FIFO(First In First Out)구조입니다. 즉, 어떠한 조건 없이 먼저 들어온 데이터가 먼저 나가는 구조였습니다. 그러나 우선 순위 큐는 들어간 순서에 상관없이 우선순위가 높은 데이터가 먼저 나오는 것을 의미합니다.

![우선 순위 큐](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FcYESG0%2Fbtq7tY1JSrS%2FIOgSFp8mGJkb5pXz9GkyfK%2Fimg.png)

우선 순위 큐에서는 우선 순위가 높은 요소가 낮은 요소 앞에 위치합니다. 두 요소가 동일한 우선 순위를 가질 경우 큐의 순서에 따라 나오게 됩니다.

## 우선 순위 큐의 구현

우선 순위 큐는 **일반적으로 힙을 사용하여 구현**되지만, 개념적으로는 힙과 구별됩니다. 우선 순위 대기열은 '리스트(list)' 또는 '맵(map)'과 같은 추상적인 개념입니다. 리스트가 연결 리스트나 배열로 구현될 수 있는 것처럼 우선 순위 큐는 힙이나 정렬되지 않은 배열과 같은 다양한 방법으로 구현될 수 있습니다.

### 1. 배열로 구현할 경우

우선 순위가 높은 순서대로 배열의 가장 앞 부분에 넣는다면, 우선 순위가 높은 데이터를 반환하는 것은 쉽습니다.

그러나 우선 순위가 중간인 것이 들어가야 하는 삽입 과정에서는 뒤의 데이터까지 인덱스를 모두 한 칸씩 뒤로 밀어야 하는 단점이 있습니다.

최악의 경우 삽입해야 하는 위치를 찾기 위해 모든 인덱스를 탐색해야 합니다.

| 삽입 | 삭제 |
| ---- | ---- |
| O(n) | O(1) |

### 2. 연결 리스트로 구현할 경우

배열과 마찬가지로 우선 순위가 높은 순서대로 연결 시키면, 우선 순위가 높은 데이터의 반환은 배열과 마찬가지로 쉽습니다.

그러나 연결리스트의 삽입 과정 또한 배열과 마찬가지로 그 위치를 찾아야 하고, 최악의 경우 선형 탐색을 하게 됩니다.

| 삽입 | 삭제 |
| ---- | ---- |
| O(n) | O(1) |

### 3. 힙으로 구현할 경우

힙의 경우 삭제나 삽입 과정에서 모두 부모와 자식 간의 비교만 계속 이루어집니다.

즉, 이진 트리의 높이가 하나 증가할 대마다 저장 가능한 자료의 개수는 2배 증가하며, 비교 연산 횟수는 1회 증가합니다. 즉, 삭제나 삽입 모두 최악의 경우에는 O(log n)의 시간 복잡도를 가집니다.

| 삽입     | 삭제     |
| -------- | -------- |
| O(log n) | O(log n) |

## 우선 순위 큐의 활용

1. CPU 스케줄링
2. 다익스트라 알고리즘, 프림 알고리즘
3. 우선 순위를 포함한 모든 큐의 응용

## 우선 순위 큐 메서드 목록

### 삽입 - O(log n)

- `enqueue(item, priority)`: 큐에 요소를 우선순위와 함께 집어넣는다.

### 접근 - O(1)

- `peek()`: 큐에서 우선 순위가 가장 높은 요소를 가져온다.

### 탐색 - O(n)

- `contains(item)`: 큐가 요소를 가지고 있는지 아닌지 boolean값 반환
- `findIndex(value)`: 같은 값을 가진 큐의 요소의 인덱스를 반환

### 삭제

- `dequeue()`: 큐에서 우선 순위가 가장 높은 요소를 제거한다. - O(log n)
- `remove(item)`: 큐에 요소가 존재하면 삭제한다. 요소를 찾기 위해 탐색하기 때문에 O(n)
- `clear()`: 큐의 모든 요소 제거 - O(1)

### 부가 기능

- `changePriority(item, priority)`: 큐가 가진 요소의 우선 순위를 변경
- `size()`: 큐가 가지고 있는 요소의 개수 반환
- `isEmpty()`: 큐가 비었는지 boolean값 반환
- `toArray()`: 큐의 요소들을 배열로로 반환
- `toString()`: 큐의 요소들을 문자열로 반환
- `iterator()`: 반복기 반환

## 참고

- [yoongrammer님 블로그](https://yoongrammer.tistory.com/81)
